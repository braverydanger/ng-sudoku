!function(e,r){"use strict";!function(){angular.module("sudoku.gameboard",["ngRoute","ngResource"])}(e,r),function(){function e(e,r,o,t){var a=this,n=o.makeBoard();return a.fullBoard=n.gameboard,a.standardSlot=o.standardSlot,a.boardData={current:!1,slotSetterVal:null,checkRows:n.checkers.rows,availableChoices:{}},e.gameboardActions=t,a}angular.module("sudoku.gameboard").controller("sudoku.gameboard.mainCtrl",e),e.$inject=["$scope","$timeout","gameboardCreator","gameboardActions"]}(e,r),function(e,r){function o(){var e=function(e,o){var t=r.querySelectorAll("td.row-"+o.row+", td.col-"+o.col);return angular.forEach(t,function(r){angular.element(r)[e?"addClass":"removeClass"]("highlight")}),!1};return{scope:{boardData:"=highlightSlots"},link:function(o,t){return t.bind("mouseover",function(){return e(!0,o.boardData.slot),!1}).bind("mouseout",function(){return e(!1,o.boardData.slot),!1}).bind("click",function(){r.getElementById("hiddenValueInput").focus()}),!1}}}angular.module("sudoku.gameboard").directive("highlightSlots",o)}(e,r),function(){function e(e){var r={};return r.selectSlot=function(e,r,o){console.log(o);for(var t=e.selected,a=0;a<r.length;a++)r[a].selected=e.showValue&&r[a].showValue&&r[a].slotValue===e.slotValue&&!r[a].selected;return e.selected=t||e.showValue?e.selected:!0,o.current=e.selected&&e.master>-1&&r[e.master],!1},r.setSlot=function(e,o,t){if(t.current)t.current.showValue?console.log("there's already a number there, doofus."):e===t.current.slotValue?(o[t.current.master].showValue=!0,o[t.current.master].selected=!1,t.current=!1):(r.showError(o[t.current.master],t),console.log("wrong number, guy."));else{var a={selected:!1,slotValue:e,showValue:!0,master:null};r.selectSlot(a,o,t)}return!1},r.textSetSlot=function(e,o){o.slotSetterVal=parseInt(o.slotSetterVal),o.slotSetterVal&&r.setSlot(o.slotSetterVal,e,o),o.slotSetterVal=null},r.showError=function(r){r.hasError=!0,e(function(){r.hasError=!1},1e3)},r}angular.module("sudoku.gameboard").factory("gameboardActions",e),e.$inject=["$timeout"]}(e,r),function(){function e(){var e={},r={},o=!1,t=3,a=t*t;return e.standardSlot=[1,2,3,4,5,6,7,8,9],e.emptyCheckers=function(){r={rows:[],cols:[],grid:[]};for(var e=0;a>e;e++)r.rows[e]=[],r.cols[e]=[],r.grid[e]=[]},e.possibleVals=function(o,t,n){for(var l=[],u=0;a>u;u++)r.rows[o].indexOf(e.standardSlot[u])<0&&r.cols[t].indexOf(e.standardSlot[u])<0&&r.grid[n].indexOf(e.standardSlot[u])<0&&l.push(e.standardSlot[u]);return l},e.createMasterGrid=function(){var r=[];e.emptyCheckers();for(var o=0;a>o;o++)for(var t=0;a>t;t++){var n={master:t+o*a,grid:3*Math.floor(o/3)+Math.floor(t/3),row:o,col:t};r.push(n)}return r},e.assignBoardToRows=function(e,r){for(var o=Math.floor(Math.sqrt(r.length)),t=0;t<r.length;t++){var a=Math.floor(t/o),n=t-a*o;e[a][n]=r[t]}return e},e.checkBoard=function(){for(var t=e.createMasterGrid(),a=0;a<t.length;a++){var n=t[a],l=e.possibleVals(n.row,n.col,n.grid),u=Math.floor(Math.random()*l.length),s=l[u];if(!l.length)return!1;r.rows[n.row].push(s),r.cols[n.col].push(s),r.grid[n.grid].push(s),n.slotValue=s,n.showValue=!1,n.gridIndex=a,n.selected=!1,n.hasError=!1,n.hasSuccess=!1}return o=!0,r.rows=e.assignBoardToRows(r.rows,t),{gameboard:t,checkers:r}},e.makeBoard=function(){var r;do r=e.checkBoard();while(!o);return o=!1,r.gameboard=e.removeSlots(r.gameboard),r},e.removeSlots=function(e){for(var r=0;r<e.length;r++){var o=Math.floor(2*Math.random())/10;o%r===0&&(e[r].showValue=!0)}return e},e}angular.module("sudoku.gameboard").factory("gameboardCreator",e)}(e,r),function(){function e(){var e={};return e.uniqueVals=function(e){var r={};return e.filter(function(e){return r.hasOwnProperty(e)?!1:r[e]=!0})},e}angular.module("sudoku.gameboard").factory("gameboardHelpers",e)}(e,r)}(window,document),angular.module("sudoku.main.package",["ngRoute","ngResource","sudoku.gameboard"]),document.onkeydown=function(e){var r=angular.element(document.documentElement).scope();switch(e.which){case 83:e.shiftKey&&e.ctrlKey&&console.log(r);break;case 67:e.shiftKey&&e.ctrlKey&&console.clear()}};